<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ClearServer â€“ Pterodactyl Panel</title>
    <style>
        :root{
            --primary:#0d6efd;
            --success:#198754;
            --danger:#dc3545;
            --dark:#212529;
        }
        *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
        body{background:linear-gradient(135deg,#1f1c2c,#928dab);min-height:100vh;display:flex;align-items:center;justify-content:center;color:#fff}
        .container{background:rgba(255,255,255,.08);backdrop-filter:blur(12px);border-radius:15px;padding:40px 30px;width:100%;max-width:420px;box-shadow:0 15px 35px rgba(0,0,0,.5)}
        h1{text-align:center;margin-bottom:25px;font-weight:600}
        label{display:block;margin-bottom:6px;font-size:.9rem}
        input{width:100%;padding:12px;border:none;border-radius:8px;margin-bottom:20px;font-size:1rem}
        button{width:100%;padding:12px;border:none;border-radius:8px;background:var(--primary);color:#fff;font-size:1rem;cursor:pointer;transition:.3s}
        button:hover{background:#0b5ed7}
        .loading{display:none;text-align:center;margin-top:20px}
        .spinner{width:40px;height:40px;border:4px solid #ffffff33;border-top:4px solid #fff;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 10px}
        @keyframes spin{to{transform:rotate(360deg)}}
        .result{margin-top:25px;padding:15px;border-radius:8px;display:none;font-weight:600}
        .success{background:var(--success)}
        .error{background:var(--danger)}
        footer{position:fixed;bottom:10px;font-size:.75rem;opacity:.6}
    </style>
</head>
<body>
    <div class="container">
        <h1>ClearServer Panel</h1>
        <form id="clearForm">
            <label>Domain</label>
            <input type="text" id="domain" placeholder="zenitsu.putznesia.com" required />
            <label>PLTA Key</label>
            <input type="text" id="plta" placeholder="ptla_oCPfvaOQtK6pMmrlEX50aYZdUYAfQJwpuvW23LEmSCj" required />
            <button type="submit">Clear Server</button>
        </form>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Menghapus server, harap tunggu...</p>
        </div>

        <div class="result" id="result"></div>
    </div>

    <footer>&copy; 2025 Reseller Gaming Programer</footer>

    <script>
        const form   = document.getElementById('clearForm');
        const domain = document.getElementById('domain');
        const plta   = document.getElementById('plta');
        const loading= document.getElementById('loading');
        const result = document.getElementById('result');

        form.addEventListener('submit', async (e)=>{
            e.preventDefault();
            loading.style.display='block';
            result.style.display='none';

            const url = `https://api.nvidiabotz.xyz/pterodactyl/clearserver?domain=${encodeURIComponent(domain.value)}&plta=${encodeURIComponent(plta.value)}`;

            try{
                const res = await fetch(url);
                const data = await res.json();
                if(res.ok && data.success){
                    showResult('success', 'Server berhasil dibersihkan!');
                }else{
                    showResult('error', data.message || 'Gagal membersihkan server.');
                }
            }catch(err){
                showResult('error', 'Terjadi kesalahan jaringan / API tidak tersedia.');
            }finally{
                loading.style.display='none';
            }
        });

        function showResult(type, msg){
            result.className='result '+type;
            result.textContent=msg;
            result.style.display='block';
        }
    </script>
</body>
  </html>
